<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Withdraw Â· Evertune</title>
  <link rel="icon" href="images/logo.jpg" type="image/x-icon">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Manrope:wght@300;400;500;600;700&family=DM+Sans:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flag-icons@6.6.6/css/flag-icons.min.css">
  <style>
    /* ===== palette & global ===== */
    :root {
      --brand-coral: #F7594E;
      --pure-white: #FFFFFF;
      --deep-black: #1B1B1B;
      --cream-peach: #FFF9F6;
      --teal-turquoise: #69D7DE;
      --warm-beige: #F9DCB7;
      --off-white: #FDFEFE;
      --gray-medium: #6C757D;
      --card-shadow: 0 4px 14px rgba(0,0,0,0.08);
    }
    * { font-family: 'Manrope', sans-serif; color: var(--deep-black); }
    body {
      background: linear-gradient(135deg, var(--cream-peach) 0%, var(--warm-beige) 50%, var(--teal-turquoise) 100%);
      background-size: 200% 200%;
      animation: gradientShift 15s ease infinite;
      min-height: 100vh;
      margin: 0;
      padding-top: 80px;
      padding-bottom: 40px;
    }
    @keyframes gradientShift {
      0%   { background-position: 0%   50%; }
      50%  { background-position: 100% 50%; }
      100% { background-position: 0%   50%; }
    }

    /* ===== navbar ===== */
    .navbar {
      background: var(--pure-white);
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      padding: 15px 0;
      position: fixed;
      top: 0; left: 0; right: 0;
      z-index: 1030;
      height: 70px;
    }
    .navbar-container {
      width: 100%; max-width: 1200px;
      margin: 0 auto; padding: 0 15px;
      display: flex; justify-content: space-between; align-items: center;
    }
    .navbar-left  { display: flex; align-items: center; flex: 1; }
    .navbar-right { display: flex; align-items: center; justify-content: flex-end; flex: 1; gap: 15px; }
    .logo-wrapper { display: flex; align-items: center; }
    .evertune-logo { width: 136px; height: 32px; display: block; }
    .btn-nav-primary {
      background-color: var(--brand-coral);
      border: none; border-radius: 50px;
      padding: 10px 24px; font-weight: 500;
      font-family: 'DM Sans', sans-serif;
      color: white; text-decoration: none;
      transition: all 0.3s ease;
    }
    .btn-nav-primary:hover {
      background-color: #e04a40;
      transform: translateY(-2px);
      box-shadow: 0 8px 18px rgba(247,89,78,0.3);
      color: white;
    }
    .hamburger-menu {
      background: none; border: none;
      font-size: 1.8rem; color: var(--deep-black);
      padding: 5px 10px; display: flex;
      align-items: center; justify-content: center; cursor: pointer;
    }

    /* ===== profile overlay ===== */
    .profile-overlay {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      background-color: rgba(0,0,0,0.3);
      z-index: 1031; display: none;
    }
    .profile-overlay.show { display: block; }

    /* ===== profile modal ===== */
    .profile-modal {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      display: flex; align-items: flex-start; justify-content: center;
      z-index: 1032; visibility: hidden; opacity: 0;
      transition: visibility 0.3s, opacity 0.3s;
      padding-top: 70px; overflow-y: auto;
    }
    .profile-modal.show { visibility: visible; opacity: 1; }
    .profile-modal-content {
      background: var(--pure-white);
      border-radius: 0 0 20px 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      width: 100%; max-width: 900px;
      max-height: calc(100vh - 70px);
      overflow-y: auto;
      transform: translateY(-100%);
      transition: transform 0.4s ease;
      position: relative;
    }
    .profile-modal.show .profile-modal-content { transform: translateY(0); }
    .profile-modal-header {
      padding: 22px 28px;
      background: linear-gradient(135deg, var(--cream-peach) 0%, var(--warm-beige) 100%);
      border-radius: 0 0 20px 20px;
      display: flex; align-items: center; justify-content: space-between;
      position: sticky; top: 0; z-index: 10;
    }
    .profile-modal-header .evertune-logo { width: 140px; height: 33px; }
    .profile-modal-close {
      background: none; border: none; font-size: 1.9rem;
      color: var(--deep-black); cursor: pointer;
      width: 40px; height: 40px; display: flex;
      align-items: center; justify-content: center;
      border-radius: 50%; transition: all 0.3s ease; flex-shrink: 0;
    }
    .profile-modal-close:hover { background-color: rgba(27,27,27,0.1); transform: rotate(90deg); }
    .profile-modal-body { padding: 28px; }

    /* user info cards */
    .user-info-grid {
      display: grid; grid-template-columns: repeat(3, 1fr);
      gap: 16px; margin-bottom: 28px; padding-bottom: 28px;
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }
    .info-card {
      background: linear-gradient(135deg, var(--cream-peach) 0%, var(--off-white) 100%);
      border-radius: 12px; padding: 18px 14px;
      text-align: center; box-shadow: var(--card-shadow);
    }
    .info-label  { font-size: 0.85rem; color: var(--gray-medium); margin-bottom: 7px; line-height: 1.3; }
    .info-value  { font-size: 1.2rem; font-weight: 700; color: var(--deep-black); word-break: break-all; }

    /* profile links */
    .profile-links-section { margin-bottom: 20px; }
    .profile-section-title {
      font-size: 1.2rem; font-weight: 600; color: var(--brand-coral);
      margin-bottom: 18px; padding-left: 10px;
      border-left: 4px solid var(--brand-coral);
      cursor: pointer; display: flex; align-items: center; gap: 10px;
      transition: color 0.3s ease;
    }
    .profile-section-title:hover { color: #e04a40; }
    .profile-section-title i { font-size: 1rem; transition: transform 0.3s ease; }
    .profile-section-title.active i { transform: rotate(180deg); }
    .profile-links-grid {
      display: grid; grid-template-columns: repeat(4, 1fr);
      gap: 14px; max-height: 0; overflow: hidden;
      transition: max-height 0.5s ease;
    }
    .profile-links-grid.show { max-height: 600px; }
    .profile-link-item {
      background: var(--off-white);
      border: 1px solid rgba(0,0,0,0.05); border-radius: 10px;
      padding: 10px; text-align: center; text-decoration: none;
      color: var(--deep-black); font-weight: 500; font-size: 0.85rem;
      transition: all 0.3s ease; display: flex;
      flex-direction: column; align-items: center; gap: 8px;
    }
    .profile-link-item i { font-size: 1.4rem; color: var(--brand-coral); }
    .profile-link-item:hover {
      background: var(--brand-coral); color: var(--pure-white);
      transform: translateY(-4px);
      box-shadow: 0 8px 18px rgba(247,89,78,0.3);
    }
    .profile-link-item:hover i { color: var(--pure-white); }
    .profile-link-item.logout { background: rgba(247,89,78,0.1); border-color: var(--brand-coral); }
    .profile-link-item.logout:hover { background: var(--brand-coral); }

    /* ===== main page container ===== */
    .page-container {
      max-width: 560px; width: 90%;
      margin: 2rem auto;
    }

    /* ===== balance card ===== */
    .balance-card {
      background: linear-gradient(135deg, #F7594E 0%, #ff8a65 100%);
      border-radius: 20px; padding: 28px 24px;
      margin-bottom: 1.5rem;
      box-shadow: 0 12px 30px rgba(247,89,78,0.35);
      position: relative; overflow: hidden;
    }
    .balance-card::before {
      content: '';
      position: absolute; top: -40px; right: -40px;
      width: 160px; height: 160px;
      background: rgba(255,255,255,0.1);
      border-radius: 50%;
    }
    .balance-card::after {
      content: '';
      position: absolute; bottom: -60px; right: 40px;
      width: 200px; height: 200px;
      background: rgba(255,255,255,0.07);
      border-radius: 50%;
    }
    .balance-label {
      font-size: 0.9rem; font-weight: 600;
      color: rgba(255,255,255,0.85);
      letter-spacing: 0.05em; margin-bottom: 6px;
    }
    .balance-label, .balance-amount, .balance-note { color: white !important; }
    .balance-amount {
      font-family: 'Montserrat', sans-serif;
      font-size: 2.6rem; font-weight: 700;
      line-height: 1.1; margin-bottom: 10px;
    }
    .balance-note { font-size: 0.82rem; opacity: 0.8; }

    /* ===== form card ===== */
    .form-card {
      background: white; border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      border: 1px solid rgba(255,255,255,0.3);
      overflow: hidden;
    }

    /* ===== tab navigation ===== */
    .tab-nav {
      display: flex; border-bottom: 2px solid #f1f1f1;
    }
    .tab-btn {
      flex: 1; padding: 16px 12px;
      background: none; border: none;
      font-weight: 600; font-size: 0.95rem;
      color: var(--gray-medium); cursor: pointer;
      position: relative; transition: color 0.3s ease;
      border-bottom: 3px solid transparent;
      margin-bottom: -2px;
    }
    .tab-btn.active { color: var(--brand-coral); border-bottom-color: var(--brand-coral); }
    .tab-btn:hover:not(.active) { color: var(--deep-black); }

    /* ===== tab panels ===== */
    .tab-panel { display: none; padding: 28px; }
    .tab-panel.active { display: block; }

    /* form elements */
    .field-label {
      display: block; font-weight: 600;
      margin-bottom: 8px; font-size: 0.9rem;
      color: var(--deep-black);
    }
    .field-input {
      width: 100%; padding: 12px 16px;
      border: 1.5px solid #e5e7eb; border-radius: 10px;
      font-size: 0.95rem; transition: border-color 0.2s, box-shadow 0.2s;
      outline: none; background: #fafafa;
    }
    .field-input:focus {
      border-color: var(--brand-coral);
      box-shadow: 0 0 0 3px rgba(247,89,78,0.12);
      background: white;
    }
    .field-group { margin-bottom: 20px; }

    /* cta button */
    .cta-button {
      width: 100%; background-color: var(--brand-coral);
      border: none; border-radius: 50px;
      color: white; font-family: 'DM Sans', sans-serif;
      font-weight: 600; font-size: 1rem;
      padding: 14px; cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 14px rgba(247,89,78,0.3);
      display: flex; align-items: center; justify-content: center; gap: 8px;
    }
    .cta-button:hover {
      background-color: #e04a40;
      transform: translateY(-2px);
      box-shadow: 0 8px 18px rgba(247,89,78,0.4);
    }
    .cta-button:disabled { background-color: #9ca3af; cursor: not-allowed; transform: none; box-shadow: none; }

    /* spinner */
    .spinner {
      display: inline-block; width: 18px; height: 18px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%; border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* ===== history sub-tabs ===== */
    .sub-tab-nav {
      display: flex; gap: 8px;
      margin-bottom: 20px; flex-wrap: wrap;
    }
    .sub-tab-btn {
      padding: 8px 20px; border-radius: 50px;
      border: 1.5px solid #e5e7eb;
      background: white; font-weight: 600;
      font-size: 0.82rem; cursor: pointer;
      transition: all 0.25s ease; color: var(--gray-medium);
    }
    .sub-tab-btn.active {
      background: var(--brand-coral);
      border-color: var(--brand-coral);
      color: white;
    }
    .sub-tab-btn:hover:not(.active) {
      border-color: var(--brand-coral);
      color: var(--brand-coral);
    }

    /* history sub-panels */
    .sub-panel { display: none; }
    .sub-panel.active { display: block; }

    /* transaction cards */
    .tx-empty {
      text-align: center; padding: 48px 20px;
      color: var(--gray-medium);
    }
    .tx-empty i { font-size: 3rem; opacity: 0.3; display: block; margin-bottom: 12px; }
    .tx-empty span { font-size: 0.9rem; }

    .tx-card {
      background: #fafafa; border-radius: 14px;
      border: 1px solid #f0f0f0;
      padding: 18px 20px; margin-bottom: 14px;
      transition: box-shadow 0.2s ease;
    }
    .tx-card:hover { box-shadow: var(--card-shadow); }
    .tx-card-header {
      display: flex; align-items: center;
      justify-content: space-between; margin-bottom: 12px;
    }
    .tx-name { font-weight: 700; font-size: 1rem; }
    .tx-badge {
      font-size: 0.75rem; font-weight: 700;
      padding: 4px 12px; border-radius: 50px;
      letter-spacing: 0.03em;
    }
    .badge-reviewing { background: #fff3cd; color: #856404; }
    .badge-success   { background: #d1fae5; color: #065f46; }
    .badge-rejected  { background: #fee2e2; color: #991b1b; }
    .tx-row {
      display: flex; justify-content: space-between;
      align-items: center; padding: 5px 0;
      border-bottom: 1px dashed #ebebeb; font-size: 0.85rem;
    }
    .tx-row:last-child { border-bottom: none; padding-bottom: 0; }
    .tx-row-label { color: var(--gray-medium); font-weight: 500; }
    .tx-row-value { font-weight: 600; text-align: right; max-width: 60%; word-break: break-all; }
    .tx-amount { color: var(--brand-coral); }

    /* ===== alert / flash message ===== */
    .flash-message {
      position: fixed; top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(27,27,27,0.88);
      backdrop-filter: blur(8px);
      color: white; padding: 20px 32px;
      border-radius: 14px; font-size: 1rem;
      font-weight: 600; text-align: center;
      z-index: 9999; min-width: 240px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.3);
    }

    /* ===== footer ===== */
    .footer-note {
      text-align: center; color: var(--deep-black);
      opacity: 0.7; font-size: 0.85rem;
      margin-top: 2rem;
    }

    /* ===== responsive modal ===== */
    @media (max-width: 992px) {
      .profile-modal-content { max-width: 96%; }
      .user-info-grid { grid-template-columns: repeat(3,1fr); gap: 14px; }
      .profile-links-grid { grid-template-columns: repeat(3,1fr); }
    }
    @media (max-width: 768px) {
      .navbar { height: 60px; padding: 10px 0; }
      body { padding-top: 60px; }
      .profile-modal { padding-top: 60px; }
      .profile-modal-content { max-width: 100%; border-radius: 0 0 16px 16px; max-height: calc(100vh - 60px); }
      .profile-modal-header { padding: 14px 18px; }
      .profile-modal-header .evertune-logo { width: 110px; height: 26px; }
      .profile-modal-body { padding: 18px; }
      .user-info-grid { grid-template-columns: repeat(2,1fr); gap: 12px; margin-bottom: 20px; padding-bottom: 20px; }
      .info-card { padding: 14px 10px; }
      .info-label { font-size: 0.75rem; }
      .info-value { font-size: 1rem; }
      .profile-links-grid { grid-template-columns: repeat(3,1fr); gap: 10px; }
      .profile-link-item { padding: 12px 8px; font-size: 0.78rem; }
      .profile-link-item i { font-size: 1.3rem; }
      .evertune-logo { width: 100px; height: 24px; }
      .btn-nav-primary { padding: 8px 16px; font-size: 0.9rem; }
      .balance-amount { font-size: 2rem; }
      .tab-panel { padding: 20px; }
    }
    @media (max-width: 576px) {
      .profile-modal-body { padding: 14px; }
      .profile-modal-header { padding: 12px 14px; }
      .profile-modal-header .evertune-logo { width: 95px; height: 22px; }
      .user-info-grid { grid-template-columns: repeat(2,1fr); gap: 10px; }
      .info-card { padding: 12px 8px; border-radius: 10px; }
      .info-label { font-size: 0.7rem; }
      .info-value { font-size: 0.9rem; }
      .profile-section-title { font-size: 1rem; }
      .profile-links-grid { grid-template-columns: repeat(2,1fr); gap: 10px; }
      .profile-link-item { padding: 10px 8px; font-size: 0.8rem; border-radius: 10px; }
    }
    @media (max-width: 400px) {
      .user-info-grid { grid-template-columns: 1fr 1fr; gap: 8px; }
      .info-value { font-size: 0.85rem; }
      .profile-links-grid { grid-template-columns: repeat(2,1fr); gap: 8px; }
      .profile-link-item { padding: 12px 6px; font-size: 0.75rem; }
      .profile-modal-header .evertune-logo { width: 85px; height: 20px; }
    }
  </style>
</head>
<body>

  <!-- ========== FLASH MESSAGE (unchanged EJS logic) ========== -->
  <% if (message || error) { %>
    <div class="flash-message" id="flashMessage">
      <%= message || error %>
    </div>
  <% } %>

  <!-- ========== TOP NAVBAR ========== -->
  <nav class="navbar">
    <div class="navbar-container">
      <div class="navbar-left">
        <div class="logo-wrapper">
          <svg class="evertune-logo" viewBox="0 0 136 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.132268 29.32C-0.16107 28.0008 0.0842353 26.7314 0.375858 25.51C0.864755 23.2148 1.69502 21.0173 2.47554 18.8182L3.11025 17.0598C2.71913 16.9621 2.32801 16.914 1.98664 16.7665C1.25416 16.3754 1.20441 15.4473 1.93861 15.0082C2.47554 14.7149 3.06222 14.5193 3.64718 14.3237C4.08633 14.1779 4.37967 13.9824 4.57523 13.5415L7.50518 7.1927C7.60296 7.04689 7.65099 6.85134 7.45714 6.70381C7.35936 6.65578 7.11578 6.60603 6.96825 6.65578C5.89439 7.0469 4.67301 7.14467 3.69521 7.87716C3.5494 7.97494 3.25606 8.02297 3.01076 8.02297C2.52186 8.02297 2.18049 7.77938 1.98493 7.38826C1.83912 6.99715 1.9369 6.50997 2.22852 6.16688C2.71742 5.67798 3.35213 5.43439 3.98683 5.23883C5.35403 4.79968 6.6732 4.36053 8.04039 4.01745C8.62707 3.87164 9.11425 3.72411 9.35956 3.13915C9.65289 2.50444 10.1898 2.30888 10.7268 2.60222C11.7028 3.09112 12.5828 2.84581 13.5589 2.60222L23.1808 0.159447C23.5221 0.0616675 23.8652 -0.0841399 24.2546 0.0616715C24.6457 0.25723 25.0849 0.452788 25.1329 0.93997C25.1809 1.42715 24.7915 1.67246 24.3507 1.81827C23.7160 2.06186 23.1293 2.30716 22.4466 2.50272C19.3210 3.33299 16.1955 4.16326 13.0683 5.04327L11.9945 5.33661C11.6531 5.43439 11.3597 5.67798 11.2122 6.02107L8.38004 12.713C9.01475 12.9565 9.40587 12.761 9.84502 12.6649C12.1403 12.0782 14.4853 11.5413 16.7805 10.9564C17.4152 10.7608 18.0019 10.8105 18.5388 11.1519C18.9780 11.4933 18.978 12.08 18.5388 12.4213C18.1477 12.6649 17.7566 12.7627 17.3174 12.8605C14.3875 13.6907 11.4558 14.5708 8.47783 15.3032C7.50175 15.5468 6.86532 15.9877 6.52395 16.9638C5.35232 20.2849 4.08118 23.5081 3.34869 26.927C3.20288 27.5617 3.10511 28.1484 3.20288 28.7831C3.25092 29.1742 3.49622 29.4178 3.93537 29.4178C4.86342 29.4178 5.74172 29.1245 6.66976 28.8809C9.25834 28.1964 11.7491 27.2203 14.0941 25.8034C14.7288 25.4123 15.3636 25.1189 16.1938 25.3145C16.5352 25.4123 16.8783 25.6078 17.0241 25.9492C17.2196 26.4381 16.9761 26.7795 16.6330 27.1208C16.4374 27.3164 16.1441 27.4622 15.9005 27.6578C12.8230 29.7574 9.40416 31.1246 5.78975 31.8588C4.95948 32.0544 4.08118 32.0047 3.20117 31.9566C1.54063 31.8588 0.514808 30.9805 0.12369 29.32H0.132268Z" fill="#F7594E"/>
            <path d="M21.0365 26.8292C21.0846 26.2923 21.1343 25.7056 21.2321 25.1687C21.9646 21.652 23.1362 18.2332 24.1621 14.7663C24.4057 13.9841 24.6012 13.2036 24.8465 12.4711C24.9923 11.8844 25.4332 11.6408 25.9204 11.6888C26.5071 11.7369 26.8965 12.0302 26.9942 12.5671C27.0920 13.2018 27.3853 13.8365 26.8484 14.4713C26.6048 14.7646 26.5071 15.2535 26.4093 15.6429C25.9701 17.1079 25.5310 18.6226 25.1879 20.0876C24.6012 22.3828 25.7248 20.6245 25.9204 20.3312C27.7765 17.6448 29.5348 14.8607 31.4887 12.3218C31.7322 12.0285 31.9776 11.7351 32.1731 11.4435C32.5642 10.9066 33.0514 10.8088 33.6381 10.9066C34.4684 11.0524 34.7617 11.6391 34.3706 12.3716C34.2728 12.5671 34.1270 12.7627 33.9795 12.9582C31.1473 17.1096 28.4609 21.4084 25.8226 25.6576C25.4812 26.1945 25.1381 26.6834 24.7968 27.1723C24.5532 27.5136 24.2598 27.8567 23.9185 28.1484C23.3815 28.6373 22.6971 28.6853 22.0143 28.4417C21.3299 28.1981 20.9885 27.5634 21.0383 26.8292H21.0365Z" fill="#F7594E"/>
            <path d="M35.1022 26.0968C34.5653 25.4621 33.8808 24.1429 34.4177 22.2388C35.4436 18.7719 37.1521 15.6944 39.6927 13.1539C40.6687 12.1281 41.8421 11.3475 43.2573 10.9067C43.9898 10.6631 44.6743 10.7609 45.3570 11.1022C46.3331 11.5414 46.7242 12.2739 46.6762 13.2997C46.5784 14.178 46.1873 14.9602 45.7979 15.6927C44.3809 18.1835 42.5248 20.2832 40.3274 22.1393C39.3993 22.9215 38.3735 23.6043 37.3477 24.239C36.9085 24.4826 36.9085 24.9715 37.3477 25.2648C37.8366 25.5581 38.3238 25.7039 38.9104 25.5581C39.5451 25.4123 40.2296 25.2648 40.8643 25.0212C44.5267 23.6043 49.6061 20.4307 52.5858 17.8902C53.0747 17.4991 53.4641 17.0119 53.9050 16.571C54.4917 15.9843 55.0286 15.9363 55.7113 16.3274C56.0527 16.571 56.2483 17.0599 56.0527 17.451C55.9549 17.6466 55.8091 17.8902 55.6616 18.0857C55.0749 18.7204 54.5380 19.4049 53.9033 19.9418C50.9733 22.5304 45.9917 25.7057 42.3773 27.1706C41.4012 27.6098 40.3257 27.9529 39.0065 27.9529C37.5896 27.8551 36.1743 27.3182 35.0988 26.0968H35.1022ZM37.4952 21.3107C37.6908 21.3605 37.8863 21.213 38.0819 21.0671C40.1816 19.3088 41.9896 17.3069 43.3568 14.9619C43.6502 14.425 44.2351 13.9361 43.8938 13.1556C43.2590 13.2036 42.7701 13.5947 42.2813 13.9859C40.0340 15.842 38.5210 18.2847 37.4455 21.0191C37.3974 21.1169 37.4455 21.2147 37.4935 21.3125L37.4952 21.3107Z" fill="#F7594E"/>
            <path d="M49.5577 27.0243C49.5097 26.4874 49.6057 25.9505 49.8510 25.4118C50.4377 24.1424 50.9746 22.8232 51.5596 21.5538C52.6335 19.3066 53.7571 17.0611 54.8326 14.7641C55.2238 13.8858 55.6149 13.0058 55.6149 11.98C55.6149 11.8822 55.6629 11.7364 55.7127 11.6386C55.8585 10.9061 56.2496 10.515 56.7385 10.5648C57.5207 10.6128 58.0576 11.1017 58.1057 11.8342C58.1057 12.4209 58.0576 13.0556 57.9599 13.6405C57.9101 14.1294 57.7163 14.5188 57.5687 15.0077C57.8621 15.2033 58.0079 15.0077 58.2035 14.8122L60.1076 12.6147C61.5245 10.9542 64.1611 11.8325 64.6981 13.6405C65.0892 14.8619 65.0892 16.0833 64.8439 17.303C64.7461 17.8399 64.3550 18.1332 63.8181 18.1813C63.1336 18.1813 62.5967 17.8399 62.4509 17.2052C62.4028 16.8141 62.4028 16.4727 62.3531 16.0816L62.2073 15.2033C62.2073 15.1055 62.0615 15.0077 62.0117 14.91C61.5726 14.8619 61.3770 15.2513 61.1814 15.4966C60.3031 16.6683 59.3751 17.8416 58.5448 19.0613C57.0301 21.3565 55.5651 23.7015 54.0521 25.9968C53.6130 26.6315 53.1241 27.2662 52.6352 27.9009C52.2938 28.3898 51.7569 28.5853 51.2182 28.5853C50.1924 28.5853 49.5577 27.9987 49.5577 27.0226V27.0243ZM57.6168 15.157L57.5687 15.0112V15.0592L57.6168 15.157Z" fill="#F7594E"/>
            <path d="M64.6012 29.956C64.4057 29.4671 64.4554 28.9799 64.6012 28.491C65.0901 26.6846 66.1159 23.2658 66.6031 21.4577C66.7009 21.0666 67.6290 18.43 68.7526 15.3045C67.4334 15.4023 66.4573 15.4503 66.3595 15.4503C65.9204 15.4023 65.4812 15.4023 65.1382 15.157C64.7968 14.9134 64.5515 14.6681 64.6012 14.2787C64.6012 13.7898 64.9426 13.692 65.3337 13.644C66.2618 13.5462 67.1898 13.4484 68.1178 13.4004L69.4370 13.3026C70.8042 9.54237 72.2692 5.68265 72.8078 4.75632C73.0034 4.3652 73.1492 3.97408 73.3945 3.63271C73.8834 2.70467 74.8115 2.65664 75.4462 3.4869C75.6417 3.78024 75.6897 4.07358 75.5920 4.3652C75.4462 4.75632 75.2506 5.14744 75.1031 5.53684C74.4684 7.00181 73.7839 8.46679 73.1989 9.93177L72.0753 13.1551C73.5403 13.0573 74.8595 12.9595 75.2009 12.9595C75.8853 12.9115 76.5680 12.8617 77.2525 12.8617C77.5939 12.8617 77.9370 12.9595 78.2286 13.3009C78.4241 13.5445 78.4722 13.8378 78.2286 14.0831C77.8872 14.5223 77.4463 14.62 76.9094 14.6698L71.4389 15.1089C69.8264 19.8469 67.5809 26.5371 66.8484 28.7843C66.7507 29.1754 66.6048 29.6146 66.4573 30.0057C66.3115 30.3471 66.0182 30.5924 65.6271 30.5924C65.1382 30.5924 64.7968 30.3968 64.6012 29.9577V29.956Z" fill="#F7594E"/>
            <path d="M81.6442 26.1954C81.5464 25.7562 81.5464 25.2673 81.4487 24.7785C81.0095 24.7304 80.8140 25.1198 80.5206 25.3154C79.8362 25.8523 79.2015 26.439 78.5187 26.9279C78.0796 27.2693 77.5907 27.5146 77.0040 27.5146C75.7826 27.5626 75.0021 26.9776 74.8546 25.7562C74.7568 24.974 74.8546 24.1935 75.0982 23.4113C76.1240 20.188 77.7845 17.258 79.9339 14.6197C80.5206 13.9352 81.1553 13.6436 82.0336 13.985C82.5225 14.1308 82.7661 14.6694 82.5225 15.1566C82.2789 15.5477 82.0336 15.8411 81.7900 16.2305C80.2753 18.3799 78.9579 20.6254 78.0778 23.166C77.9801 23.4095 77.7845 23.7029 77.9801 24.0442C78.5667 23.8487 78.9562 23.3598 79.3473 22.9704C80.8122 21.5054 82.1794 20.0404 83.5964 18.6235C84.3289 17.891 84.9155 17.8413 85.7458 18.3302C86.1369 18.5738 86.3325 18.9649 86.1850 19.404C86.0392 19.7951 85.8436 20.1863 85.6961 20.5757C85.1094 21.8948 84.5725 23.31 84.2311 24.727C84.1333 25.1661 84.0355 25.5573 84.1333 25.9964C84.1813 26.2897 84.3769 26.4356 84.6222 26.4356C84.9155 26.3875 85.2089 26.2897 85.5005 26.192C86.5263 25.7528 87.4544 25.1661 88.3327 24.4834C91.4102 22.2859 94.3401 19.8432 96.9767 17.1088C97.1723 16.8652 97.3678 16.6696 97.6114 16.4243C98.0025 16.131 98.3937 16.131 98.8328 16.3265C99.4675 16.6199 99.6631 17.1088 99.2720 17.6457C98.7831 18.2804 98.2959 18.9151 97.7092 19.4521C95.2184 22.0887 92.4840 24.4337 89.5043 26.5333C88.4305 27.3156 87.2571 28.0481 85.9397 28.3894C85.5485 28.4872 85.1094 28.585 84.6702 28.585C83.0577 28.585 82.0336 27.8028 81.6425 26.192L81.6442 26.1954Z" fill="#F7594E"/>
            <path d="M92.2911 28.7353C92.4370 28.3442 92.6823 28.0028 92.8281 27.6117C93.9997 25.1689 95.1233 22.7279 96.2950 20.2851C97.3208 18.1854 97.9555 15.9382 98.1013 13.5932C98.1493 12.9585 98.1493 12.3718 98.3946 11.7869C98.6880 11.1024 99.1769 10.9086 99.8596 11.1024C100.544 11.298 100.885 11.7869 100.983 12.4216C101.129 13.1541 101.081 13.8865 100.935 14.619L100.496 16.964C100.985 17.3054 101.374 16.8662 101.765 16.8182C103.378 16.6724 104.354 17.4529 104.354 19.1135C104.402 19.8957 104.306 20.6762 104.208 21.5065C104.062 22.6301 104.013 23.8017 104.062 24.9734C104.110 25.7556 104.502 25.9992 105.136 25.6578C105.821 25.2667 106.406 24.8756 106.992 24.4364C109.727 22.5323 112.218 20.3331 114.563 17.9898C115.051 17.4529 115.588 16.964 116.125 16.4271C116.564 15.9879 117.053 15.8902 117.640 16.0857C118.568 16.3293 118.812 16.964 118.227 17.6982C117.836 18.2352 117.348 18.7721 116.908 19.261C114.417 22.0451 111.682 24.6337 108.653 26.8312C107.677 27.5637 106.651 28.1984 105.380 28.4437C103.671 28.785 101.815 28.1503 101.424 25.9031C101.278 25.0248 101.180 24.0968 101.278 23.1687C101.376 22.3385 101.424 21.4602 101.474 20.6282L101.132 20.4824C100.693 21.069 100.254 21.654 99.863 22.2407C98.3483 24.4879 96.8353 26.7334 95.3206 28.9326C95.0273 29.3717 94.7339 29.7628 94.4423 30.1539C94.0512 30.5931 93.2707 30.6909 92.7337 30.3495C92.2448 30.0562 92.0012 29.4215 92.2946 28.737L92.2911 28.7353Z" fill="#F7594E"/>
            <path d="M114.517 26.0968C113.980 25.4621 113.295 24.1429 113.832 22.2388C114.858 18.7719 116.567 15.6944 119.107 13.1539C120.083 12.1281 121.257 11.3475 122.672 10.9067C123.404 10.6631 124.089 10.7609 124.772 11.1022C125.748 11.5414 126.139 12.2739 126.091 13.2997C125.993 14.178 125.602 14.9602 125.213 15.6927C123.796 18.1835 121.940 20.2832 119.742 22.1393C118.814 22.9215 117.788 23.6043 116.762 24.239C116.323 24.4826 116.323 24.9715 116.762 25.2648C117.251 25.5581 117.738 25.7039 118.325 25.5581C118.960 25.4123 119.644 25.2648 120.279 25.0212C123.941 23.6043 129.021 20.4307 132.000 17.8902C132.489 17.4991 132.879 17.0119 133.320 16.571C133.906 15.9843 134.443 15.9363 135.126 16.3274C135.467 16.571 135.663 17.0599 135.467 17.451C135.370 17.6466 135.224 17.8902 135.076 18.0857C134.490 18.7204 133.953 19.4049 133.318 19.9418C130.388 22.5304 125.406 25.7057 121.792 27.1706C120.816 27.6098 119.740 27.9529 118.421 27.9529C117.004 27.8551 115.589 27.3182 114.513 26.0968H114.517ZM116.910 21.3107C117.105 21.3605 117.301 21.213 117.497 21.0671C119.596 19.3088 121.404 17.3069 122.771 14.9619C123.065 14.425 123.650 13.9361 123.308 13.1556C122.674 13.2036 122.185 13.5947 121.696 13.9859C119.449 15.842 117.936 18.2847 116.860 21.0191C116.812 21.1169 116.860 21.2147 116.908 21.3125L116.910 21.3107Z" fill="#F7594E"/>
          </svg>
        </div>
      </div>
      <div class="navbar-right">
        <a href="/start-page" class="btn-nav-primary">Start Work</a>
        <div class="profile-dropdown">
          <button class="hamburger-menu" id="profileMenuToggle">
            <i class="bi bi-list"></i>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Blur Overlay -->
  <div class="profile-overlay" id="profileOverlay"></div>

  <!-- Profile Modal -->
  <div class="profile-modal" id="profileModal">
    <div class="profile-modal-content">
      <div class="profile-modal-header">
        <svg class="evertune-logo" viewBox="0 0 136 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0.132268 29.32C-0.16107 28.0008 0.0842353 26.7314 0.375858 25.51C0.864755 23.2148 1.69502 21.0173 2.47554 18.8182L3.11025 17.0598C2.71913 16.9621 2.32801 16.914 1.98664 16.7665C1.25416 16.3754 1.20441 15.4473 1.93861 15.0082C2.47554 14.7149 3.06222 14.5193 3.64718 14.3237C4.08633 14.1779 4.37967 13.9824 4.57523 13.5415L7.50518 7.1927C7.60296 7.04689 7.65099 6.85134 7.45714 6.70381C7.35936 6.65578 7.11578 6.60603 6.96825 6.65578C5.89439 7.0469 4.67301 7.14467 3.69521 7.87716C3.5494 7.97494 3.25606 8.02297 3.01076 8.02297C2.52186 8.02297 2.18049 7.77938 1.98493 7.38826C1.83912 6.99715 1.9369 6.50997 2.22852 6.16688C2.71742 5.67798 3.35213 5.43439 3.98683 5.23883C5.35403 4.79968 6.6732 4.36053 8.04039 4.01745C8.62707 3.87164 9.11425 3.72411 9.35956 3.13915C9.65289 2.50444 10.1898 2.30888 10.7268 2.60222C11.7028 3.09112 12.5828 2.84581 13.5589 2.60222L23.1808 0.159447C23.5221 0.0616675 23.8652 -0.0841399 24.2546 0.0616715C24.6457 0.25723 25.0849 0.452788 25.1329 0.93997C25.1809 1.42715 24.7915 1.67246 24.3507 1.81827C23.7160 2.06186 23.1293 2.30716 22.4466 2.50272C19.3210 3.33299 16.1955 4.16326 13.0683 5.04327L11.9945 5.33661C11.6531 5.43439 11.3597 5.67798 11.2122 6.02107L8.38004 12.713C9.01475 12.9565 9.40587 12.761 9.84502 12.6649C12.1403 12.0782 14.4853 11.5413 16.7805 10.9564C17.4152 10.7608 18.0019 10.8105 18.5388 11.1519C18.9780 11.4933 18.978 12.08 18.5388 12.4213C18.1477 12.6649 17.7566 12.7627 17.3174 12.8605C14.3875 13.6907 11.4558 14.5708 8.47783 15.3032C7.50175 15.5468 6.86532 15.9877 6.52395 16.9638C5.35232 20.2849 4.08118 23.5081 3.34869 26.927C3.20288 27.5617 3.10511 28.1484 3.20288 28.7831C3.25092 29.1742 3.49622 29.4178 3.93537 29.4178C4.86342 29.4178 5.74172 29.1245 6.66976 28.8809C9.25834 28.1964 11.7491 27.2203 14.0941 25.8034C14.7288 25.4123 15.3636 25.1189 16.1938 25.3145C16.5352 25.4123 16.8783 25.6078 17.0241 25.9492C17.2196 26.4381 16.9761 26.7795 16.6330 27.1208C16.4374 27.3164 16.1441 27.4622 15.9005 27.6578C12.8230 29.7574 9.40416 31.1246 5.78975 31.8588C4.95948 32.0544 4.08118 32.0047 3.20117 31.9566C1.54063 31.8588 0.514808 30.9805 0.12369 29.32H0.132268Z" fill="#F7594E"/>
          <path d="M21.0365 26.8292C21.0846 26.2923 21.1343 25.7056 21.2321 25.1687C21.9646 21.652 23.1362 18.2332 24.1621 14.7663C24.4057 13.9841 24.6012 13.2036 24.8465 12.4711C24.9923 11.8844 25.4332 11.6408 25.9204 11.6888C26.5071 11.7369 26.8965 12.0302 26.9942 12.5671C27.0920 13.2018 27.3853 13.8365 26.8484 14.4713C26.6048 14.7646 26.5071 15.2535 26.4093 15.6429C25.9701 17.1079 25.5310 18.6226 25.1879 20.0876C24.6012 22.3828 25.7248 20.6245 25.9204 20.3312C27.7765 17.6448 29.5348 14.8607 31.4887 12.3218C31.7322 12.0285 31.9776 11.7351 32.1731 11.4435C32.5642 10.9066 33.0514 10.8088 33.6381 10.9066C34.4684 11.0524 34.7617 11.6391 34.3706 12.3716C34.2728 12.5671 34.1270 12.7627 33.9795 12.9582C31.1473 17.1096 28.4609 21.4084 25.8226 25.6576C25.4812 26.1945 25.1381 26.6834 24.7968 27.1723C24.5532 27.5136 24.2598 27.8567 23.9185 28.1484C23.3815 28.6373 22.6971 28.6853 22.0143 28.4417C21.3299 28.1981 20.9885 27.5634 21.0383 26.8292H21.0365Z" fill="#F7594E"/>
          <path d="M35.1022 26.0968C34.5653 25.4621 33.8808 24.1429 34.4177 22.2388C35.4436 18.7719 37.1521 15.6944 39.6927 13.1539C40.6687 12.1281 41.8421 11.3475 43.2573 10.9067C43.9898 10.6631 44.6743 10.7609 45.3570 11.1022C46.3331 11.5414 46.7242 12.2739 46.6762 13.2997C46.5784 14.178 46.1873 14.9602 45.7979 15.6927C44.3809 18.1835 42.5248 20.2832 40.3274 22.1393C39.3993 22.9215 38.3735 23.6043 37.3477 24.239C36.9085 24.4826 36.9085 24.9715 37.3477 25.2648C37.8366 25.5581 38.3238 25.7039 38.9104 25.5581C39.5451 25.4123 40.2296 25.2648 40.8643 25.0212C44.5267 23.6043 49.6061 20.4307 52.5858 17.8902C53.0747 17.4991 53.4641 17.0119 53.9050 16.571C54.4917 15.9843 55.0286 15.9363 55.7113 16.3274C56.0527 16.571 56.2483 17.0599 56.0527 17.451C55.9549 17.6466 55.8091 17.8902 55.6616 18.0857C55.0749 18.7204 54.5380 19.4049 53.9033 19.9418C50.9733 22.5304 45.9917 25.7057 42.3773 27.1706C41.4012 27.6098 40.3257 27.9529 39.0065 27.9529C37.5896 27.8551 36.1743 27.3182 35.0988 26.0968H35.1022ZM37.4952 21.3107C37.6908 21.3605 37.8863 21.213 38.0819 21.0671C40.1816 19.3088 41.9896 17.3069 43.3568 14.9619C43.6502 14.425 44.2351 13.9361 43.8938 13.1556C43.2590 13.2036 42.7701 13.5947 42.2813 13.9859C40.0340 15.842 38.5210 18.2847 37.4455 21.0191C37.3974 21.1169 37.4455 21.2147 37.4935 21.3125L37.4952 21.3107Z" fill="#F7594E"/>
          <path d="M49.5577 27.0243C49.5097 26.4874 49.6057 25.9505 49.8510 25.4118C50.4377 24.1424 50.9746 22.8232 51.5596 21.5538C52.6335 19.3066 53.7571 17.0611 54.8326 14.7641C55.2238 13.8858 55.6149 13.0058 55.6149 11.98C55.6149 11.8822 55.6629 11.7364 55.7127 11.6386C55.8585 10.9061 56.2496 10.515 56.7385 10.5648C57.5207 10.6128 58.0576 11.1017 58.1057 11.8342C58.1057 12.4209 58.0576 13.0556 57.9599 13.6405C57.9101 14.1294 57.7163 14.5188 57.5687 15.0077C57.8621 15.2033 58.0079 15.0077 58.2035 14.8122L60.1076 12.6147C61.5245 10.9542 64.1611 11.8325 64.6981 13.6405C65.0892 14.8619 65.0892 16.0833 64.8439 17.303C64.7461 17.8399 64.3550 18.1332 63.8181 18.1813C63.1336 18.1813 62.5967 17.8399 62.4509 17.2052C62.4028 16.8141 62.4028 16.4727 62.3531 16.0816L62.2073 15.2033C62.2073 15.1055 62.0615 15.0077 62.0117 14.91C61.5726 14.8619 61.3770 15.2513 61.1814 15.4966C60.3031 16.6683 59.3751 17.8416 58.5448 19.0613C57.0301 21.3565 55.5651 23.7015 54.0521 25.9968C53.6130 26.6315 53.1241 27.2662 52.6352 27.9009C52.2938 28.3898 51.7569 28.5853 51.2182 28.5853C50.1924 28.5853 49.5577 27.9987 49.5577 27.0226V27.0243ZM57.6168 15.157L57.5687 15.0112V15.0592L57.6168 15.157Z" fill="#F7594E"/>
          <path d="M64.6012 29.956C64.4057 29.4671 64.4554 28.9799 64.6012 28.491C65.0901 26.6846 66.1159 23.2658 66.6031 21.4577C66.7009 21.0666 67.6290 18.43 68.7526 15.3045C67.4334 15.4023 66.4573 15.4503 66.3595 15.4503C65.9204 15.4023 65.4812 15.4023 65.1382 15.157C64.7968 14.9134 64.5515 14.6681 64.6012 14.2787C64.6012 13.7898 64.9426 13.692 65.3337 13.644C66.2618 13.5462 67.1898 13.4484 68.1178 13.4004L69.4370 13.3026C70.8042 9.54237 72.2692 5.68265 72.8078 4.75632C73.0034 4.3652 73.1492 3.97408 73.3945 3.63271C73.8834 2.70467 74.8115 2.65664 75.4462 3.4869C75.6417 3.78024 75.6897 4.07358 75.5920 4.3652C75.4462 4.75632 75.2506 5.14744 75.1031 5.53684C74.4684 7.00181 73.7839 8.46679 73.1989 9.93177L72.0753 13.1551C73.5403 13.0573 74.8595 12.9595 75.2009 12.9595C75.8853 12.9115 76.5680 12.8617 77.2525 12.8617C77.5939 12.8617 77.9370 12.9595 78.2286 13.3009C78.4241 13.5445 78.4722 13.8378 78.2286 14.0831C77.8872 14.5223 77.4463 14.62 76.9094 14.6698L71.4389 15.1089C69.8264 19.8469 67.5809 26.5371 66.8484 28.7843C66.7507 29.1754 66.6048 29.6146 66.4573 30.0057C66.3115 30.3471 66.0182 30.5924 65.6271 30.5924C65.1382 30.5924 64.7968 30.3968 64.6012 29.9577V29.956Z" fill="#F7594E"/>
          <path d="M81.6442 26.1954C81.5464 25.7562 81.5464 25.2673 81.4487 24.7785C81.0095 24.7304 80.8140 25.1198 80.5206 25.3154C79.8362 25.8523 79.2015 26.439 78.5187 26.9279C78.0796 27.2693 77.5907 27.5146 77.0040 27.5146C75.7826 27.5626 75.0021 26.9776 74.8546 25.7562C74.7568 24.974 74.8546 24.1935 75.0982 23.4113C76.1240 20.188 77.7845 17.258 79.9339 14.6197C80.5206 13.9352 81.1553 13.6436 82.0336 13.985C82.5225 14.1308 82.7661 14.6694 82.5225 15.1566C82.2789 15.5477 82.0336 15.8411 81.7900 16.2305C80.2753 18.3799 78.9579 20.6254 78.0778 23.166C77.9801 23.4095 77.7845 23.7029 77.9801 24.0442C78.5667 23.8487 78.9562 23.3598 79.3473 22.9704C80.8122 21.5054 82.1794 20.0404 83.5964 18.6235C84.3289 17.891 84.9155 17.8413 85.7458 18.3302C86.1369 18.5738 86.3325 18.9649 86.1850 19.404C86.0392 19.7951 85.8436 20.1863 85.6961 20.5757C85.1094 21.8948 84.5725 23.31 84.2311 24.727C84.1333 25.1661 84.0355 25.5573 84.1333 25.9964C84.1813 26.2897 84.3769 26.4356 84.6222 26.4356C84.9155 26.3875 85.2089 26.2897 85.5005 26.192C86.5263 25.7528 87.4544 25.1661 88.3327 24.4834C91.4102 22.2859 94.3401 19.8432 96.9767 17.1088C97.1723 16.8652 97.3678 16.6696 97.6114 16.4243C98.0025 16.131 98.3937 16.131 98.8328 16.3265C99.4675 16.6199 99.6631 17.1088 99.2720 17.6457C98.7831 18.2804 98.2959 18.9151 97.7092 19.4521C95.2184 22.0887 92.4840 24.4337 89.5043 26.5333C88.4305 27.3156 87.2571 28.0481 85.9397 28.3894C85.5485 28.4872 85.1094 28.585 84.6702 28.585C83.0577 28.585 82.0336 27.8028 81.6425 26.192L81.6442 26.1954Z" fill="#F7594E"/>
          <path d="M92.2911 28.7353C92.4370 28.3442 92.6823 28.0028 92.8281 27.6117C93.9997 25.1689 95.1233 22.7279 96.2950 20.2851C97.3208 18.1854 97.9555 15.9382 98.1013 13.5932C98.1493 12.9585 98.1493 12.3718 98.3946 11.7869C98.6880 11.1024 99.1769 10.9086 99.8596 11.1024C100.544 11.298 100.885 11.7869 100.983 12.4216C101.129 13.1541 101.081 13.8865 100.935 14.619L100.496 16.964C100.985 17.3054 101.374 16.8662 101.765 16.8182C103.378 16.6724 104.354 17.4529 104.354 19.1135C104.402 19.8957 104.306 20.6762 104.208 21.5065C104.062 22.6301 104.013 23.8017 104.062 24.9734C104.110 25.7556 104.502 25.9992 105.136 25.6578C105.821 25.2667 106.406 24.8756 106.992 24.4364C109.727 22.5323 112.218 20.3331 114.563 17.9898C115.051 17.4529 115.588 16.964 116.125 16.4271C116.564 15.9879 117.053 15.8902 117.640 16.0857C118.568 16.3293 118.812 16.964 118.227 17.6982C117.836 18.2352 117.348 18.7721 116.908 19.261C114.417 22.0451 111.682 24.6337 108.653 26.8312C107.677 27.5637 106.651 28.1984 105.380 28.4437C103.671 28.785 101.815 28.1503 101.424 25.9031C101.278 25.0248 101.180 24.0968 101.278 23.1687C101.376 22.3385 101.424 21.4602 101.474 20.6282L101.132 20.4824C100.693 21.069 100.254 21.654 99.863 22.2407C98.3483 24.4879 96.8353 26.7334 95.3206 28.9326C95.0273 29.3717 94.7339 29.7628 94.4423 30.1539C94.0512 30.5931 93.2707 30.6909 92.7337 30.3495C92.2448 30.0562 92.0012 29.4215 92.2946 28.737L92.2911 28.7353Z" fill="#F7594E"/>
          <path d="M114.517 26.0968C113.980 25.4621 113.295 24.1429 113.832 22.2388C114.858 18.7719 116.567 15.6944 119.107 13.1539C120.083 12.1281 121.257 11.3475 122.672 10.9067C123.404 10.6631 124.089 10.7609 124.772 11.1022C125.748 11.5414 126.139 12.2739 126.091 13.2997C125.993 14.178 125.602 14.9602 125.213 15.6927C123.796 18.1835 121.940 20.2832 119.742 22.1393C118.814 22.9215 117.788 23.6043 116.762 24.239C116.323 24.4826 116.323 24.9715 116.762 25.2648C117.251 25.5581 117.738 25.7039 118.325 25.5581C118.960 25.4123 119.644 25.2648 120.279 25.0212C123.941 23.6043 129.021 20.4307 132.000 17.8902C132.489 17.4991 132.879 17.0119 133.320 16.571C133.906 15.9843 134.443 15.9363 135.126 16.3274C135.467 16.571 135.663 17.0599 135.467 17.451C135.370 17.6466 135.224 17.8902 135.076 18.0857C134.490 18.7204 133.953 19.4049 133.318 19.9418C130.388 22.5304 125.406 25.7057 121.792 27.1706C120.816 27.6098 119.740 27.9529 118.421 27.9529C117.004 27.8551 115.589 27.3182 114.513 26.0968H114.517ZM116.910 21.3107C117.105 21.3605 117.301 21.213 117.497 21.0671C119.596 19.3088 121.404 17.3069 122.771 14.9619C123.065 14.425 123.650 13.9361 123.308 13.1556C122.674 13.2036 122.185 13.5947 121.696 13.9859C119.449 15.842 117.936 18.2847 116.860 21.0191C116.812 21.1169 116.860 21.2147 116.908 21.3125L116.910 21.3107Z" fill="#F7594E"/>
        </svg>
        <button class="profile-modal-close" id="closeProfileModal">
          <i class="bi bi-x-lg"></i>
        </button>
      </div>

      <div class="profile-modal-body">
        <div class="user-info-grid">
          <div class="info-card">
            <div class="info-label">Username</div>
            <div class="info-value" id="user-username">Loading...</div>
          </div>
          <div class="info-card">
            <div class="info-label">Wallet Balance</div>
            <div class="info-value" id="user-wallet">0.00 USD</div>
          </div>
          <div class="info-card">
            <div class="info-label">VIP Level</div>
            <div class="info-value" id="user-vip">VIP1</div>
          </div>
          <div class="info-card">
            <div class="info-label">Invitation Code</div>
            <div class="info-value" id="user-invitation-code">Loading...</div>
          </div>
          <div class="info-card">
            <div class="info-label">Today's Commission</div>
            <div class="info-value" id="user-commission">0.00 USD</div>
          </div>
          <div class="info-card">
            <div class="info-label">Today's Reward</div>
            <div class="info-value" id="user-reward">0.00 USD</div>
          </div>
        </div>

        <div class="profile-links-section">
          <div class="profile-section-title" id="profileLinksToggle">
            <span>Profile</span>
            <i class="bi bi-chevron-down"></i>
          </div>
          <div class="profile-links-grid" id="profileLinksGrid">
            <a href="/change-password" class="profile-link-item"><i class="bi bi-key"></i><span>Change Password</span></a>
            <a href="/link-wallet" class="profile-link-item"><i class="bi bi-wallet2"></i><span>My Wallet</span></a>
            <a href="/withdraw" class="profile-link-item"><i class="bi bi-cash-stack"></i><span>Withdraw</span></a>
            <a href="/change-withdrawal-password" class="profile-link-item"><i class="bi bi-shield-lock"></i><span>Change Withdrawal Password</span></a>
            <a href="/vip-levels" class="profile-link-item"><i class="bi bi-star"></i><span>VIP Level</span></a>
            <a href="/salary" class="profile-link-item"><i class="bi bi-currency-dollar"></i><span>Salary</span></a>
            <a href="/certificates" class="profile-link-item"><i class="bi bi-patch-check"></i><span>Certificates</span></a>
            <a href="/faq" class="profile-link-item"><i class="bi bi-question-circle"></i><span>FAQs</span></a>
            <a href="/terms" class="profile-link-item"><i class="bi bi-file-text"></i><span>T & C</span></a>
            <a href="/reset-bonus" class="profile-link-item"><i class="bi bi-arrow-repeat"></i><span>Reset Bonus</span></a>
            <a href="/contact" class="profile-link-item"><i class="bi bi-envelope"></i><span>Contact</span></a>
            <a href="#" onclick="logout()" class="profile-link-item logout"><i class="bi bi-box-arrow-right"></i><span>Logout</span></a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ========== MAIN CONTENT ========== -->
  <div class="page-container">

    <!-- Balance Card -->
    <div class="balance-card">
      <div class="balance-label">ACCOUNT BALANCE</div>
      <div class="balance-amount"><%= amount.totalBalance %> <span style="font-size:1.2rem;opacity:0.85;">USDC</span></div>
      <div class="balance-note"><i class="bi bi-clock" style="margin-right:5px;"></i>Withdrawals are processed within 1 hour</div>
    </div>

    <!-- Tabs Card -->
    <div class="form-card">
      <div class="tab-nav">
        <button class="tab-btn active" data-tab="withdraw">
          <i class="bi bi-arrow-up-circle" style="margin-right:6px;"></i>Withdraw
        </button>
        <button class="tab-btn" data-tab="history">
          <i class="bi bi-clock-history" style="margin-right:6px;"></i>History
        </button>
      </div>

      <!-- ===== WITHDRAW TAB (form action & fields unchanged) ===== -->
      <div class="tab-panel active" id="tab-withdraw">
        <form action="/withdraw" method="POST" autocomplete="off" id="withdrawForm">
          <div class="field-group">
            <label class="field-label" for="withdrawAmount">Withdraw Amount</label>
            <input type="number" class="field-input" id="withdrawAmount" name="withdrawAmount" min="1" placeholder="Enter amount in USDC" required>
          </div>
          <div class="field-group">
            <label class="field-label" for="transactionPassword">Transaction Password</label>
            <input type="password" class="field-input" id="transactionPassword" name="transactionPassword" placeholder="Enter your transaction password" required>
          </div>
          <button type="submit" class="cta-button" id="withdrawBtn">
            <span id="withdrawBtnText" class="text-white" ><i class="bi bi-arrow-up-circle text-white"></i> &nbsp;Withdraw</span>
            <span id="withdrawSpinner" class="spinner" style="display:none;"></span>
          </button>
        </form>
      </div>

      <!-- ===== HISTORY TAB ===== -->
      <div class="tab-panel" id="tab-history">
        <div class="sub-tab-nav">
          <button class="sub-tab-btn active" data-sub="reviewing">Reviewing</button>
          <button class="sub-tab-btn" data-sub="success">Success</button>
          <button class="sub-tab-btn" data-sub="rejected">Rejected</button>
        </div>

        <!-- Reviewing (EJS data unchanged) -->
        <div class="sub-panel active" id="sub-reviewing">
          <% if (reviewing.length === 0) { %>
            <div class="tx-empty">
              <i class="bi bi-hourglass"></i>
              <span>No transactions under review</span>
            </div>
          <% } else { %>
            <% reviewing.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)); %>
            <% reviewing.forEach(withdrawal => { %>
              <div class="tx-card">
                <div class="tx-card-header">
                  <span class="tx-name"><%= withdrawal.username %></span>
                  <span class="tx-badge badge-reviewing">Reviewing</span>
                </div>
                <div class="tx-row">
                  <span class="tx-row-label">Wallet Address</span>
                  <span class="tx-row-value"><%= walletAddress %></span>
                </div>
                <div class="tx-row">
                  <span class="tx-row-label">Amount</span>
                  <span class="tx-row-value tx-amount"><%= withdrawal.withdrawAmount.toFixed(2) %> USDC</span>
                </div>
                <div class="tx-row">
                  <span class="tx-row-label">Date</span>
                  <span class="tx-row-value"><%= new Date(withdrawal.createdAt).toLocaleString() %></span>
                </div>
              </div>
            <% }) %>
          <% } %>
        </div>

        <!-- Success (EJS data unchanged) -->
        <div class="sub-panel" id="sub-success">
          <% if (success.length === 0) { %>
            <div class="tx-empty">
              <i class="bi bi-check-circle"></i>
              <span>No successful transactions yet</span>
            </div>
          <% } else { %>
            <% success.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)); %>
            <% success.forEach(withdrawal => { %>
              <div class="tx-card">
                <div class="tx-card-header">
                  <span class="tx-name"><%= withdrawal.username %></span>
                  <span class="tx-badge badge-success">Success</span>
                </div>
                <div class="tx-row">
                  <span class="tx-row-label">Wallet Address</span>
                  <span class="tx-row-value"><%= walletAddress %></span>
                </div>
                <div class="tx-row">
                  <span class="tx-row-label">Amount</span>
                  <span class="tx-row-value tx-amount"><%= withdrawal.withdrawAmount.toFixed(2) %> USDC</span>
                </div>
                <div class="tx-row">
                  <span class="tx-row-label">Date</span>
                  <span class="tx-row-value"><%= new Date(withdrawal.createdAt).toLocaleString() %></span>
                </div>
              </div>
            <% }) %>
          <% } %>
        </div>

        <!-- Rejected (EJS data unchanged) -->
        <div class="sub-panel" id="sub-rejected">
          <% if (rejected.length === 0) { %>
            <div class="tx-empty">
              <i class="bi bi-x-circle"></i>
              <span>No rejected transactions</span>
            </div>
          <% } else { %>
            <% rejected.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)); %>
            <% rejected.forEach(withdrawal => { %>
              <div class="tx-card">
                <div class="tx-card-header">
                  <span class="tx-name"><%= withdrawal.username %></span>
                  <span class="tx-badge badge-rejected">Rejected</span>
                </div>
                <div class="tx-row">
                  <span class="tx-row-label">Wallet Address</span>
                  <span class="tx-row-value"><%= walletAddress %></span>
                </div>
                <div class="tx-row">
                  <span class="tx-row-label">Amount</span>
                  <span class="tx-row-value tx-amount"><%= withdrawal.withdrawAmount.toFixed(2) %> USDC</span>
                </div>
                <div class="tx-row">
                  <span class="tx-row-label">Date</span>
                  <span class="tx-row-value"><%= new Date(withdrawal.createdAt).toLocaleString() %></span>
                </div>
              </div>
            <% }) %>
          <% } %>
        </div>

      </div><!-- /tab-history -->
    </div><!-- /form-card -->
  </div><!-- /page-container -->

  <div class="footer-note">Â© Evertune. All Rights Reserved.</div>

  <script>
    // ========== FLASH MESSAGE AUTO-DISMISS (unchanged logic) ==========
    document.addEventListener('DOMContentLoaded', () => {
      const flash = document.getElementById('flashMessage');
      if (flash) {
        setTimeout(() => {
          flash.style.transition = 'opacity 0.5s';
          flash.style.opacity = '0';
          setTimeout(() => flash.remove(), 500);
        }, 3000);
      }
    });

    // ========== MAIN TABS ==========
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById('tab-' + btn.dataset.tab).classList.add('active');
      });
    });

    // ========== SUB TABS ==========
    document.querySelectorAll('.sub-tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.sub-tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.sub-panel').forEach(p => p.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById('sub-' + btn.dataset.sub).classList.add('active');
      });
    });

    // ========== WITHDRAW FORM SPINNER ==========
    document.getElementById('withdrawForm').addEventListener('submit', () => {
      const btn = document.getElementById('withdrawBtn');
      const txt = document.getElementById('withdrawBtnText');
      const spn = document.getElementById('withdrawSpinner');
      btn.disabled = true;
      txt.style.display = 'none';
      spn.style.display = 'inline-block';
    });

    // ========== PROFILE MODAL ==========
    function initProfileModal() {
      const toggle   = document.getElementById('profileMenuToggle');
      const closeBtn = document.getElementById('closeProfileModal');
      const modal    = document.getElementById('profileModal');
      const overlay  = document.getElementById('profileOverlay');
      const linksToggle = document.getElementById('profileLinksToggle');
      const linksGrid   = document.getElementById('profileLinksGrid');

      toggle.addEventListener('click', e => {
        e.stopPropagation();
        modal.classList.add('show');
        overlay.classList.add('show');
        document.body.style.overflow = 'hidden';
        setTimeout(() => {
          linksGrid.classList.add('show');
          linksToggle.classList.add('active');
        }, 300);
      });

      closeBtn.addEventListener('click', closeModal);
      overlay.addEventListener('click', closeModal);
      linksToggle.addEventListener('click', () => {
        linksToggle.classList.toggle('active');
        linksGrid.classList.toggle('show');
      });
      document.addEventListener('keydown', e => {
        if (e.key === 'Escape' && modal.classList.contains('show')) closeModal();
      });
    }

    function closeModal() {
      document.getElementById('profileModal').classList.remove('show');
      document.getElementById('profileOverlay').classList.remove('show');
      document.body.style.overflow = '';
      document.getElementById('profileLinksGrid').classList.remove('show');
      document.getElementById('profileLinksToggle').classList.remove('active');
    }

    // ========== FETCH USER DATA FOR PROFILE MODAL ==========
    async function fetchUserData() {
      try {
        const response = await fetch('/api/user/complete-profile');
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
        const result = await response.json();
        if (result.success) updateUserUI(result.data);
        else throw new Error(result.error || 'Failed to fetch user data');
      } catch (error) {
        console.error('Error fetching user data:', error);
        useFallbackData();
      }
    }

    function updateUserUI(data) {
      const set = (id, val) => { const el = document.getElementById(id); if (el) el.textContent = val; };
      set('user-username',        data.username       || 'User');
      set('user-wallet',          `${parseFloat(data.totalBalance  || 0).toFixed(2)} USD`);
      set('user-vip',             data.vipLevel       || 'VIP1');
      set('user-invitation-code', data.invitationCode || 'N/A');
      set('user-commission',      `${parseFloat(data.todaysProfit  || 0).toFixed(2)} USD`);
      set('user-reward',          `${parseFloat(data.todaysProfit  || 0).toFixed(2)} USD`);
    }

    function useFallbackData() {
      const set = (id, val) => { const el = document.getElementById(id); if (el) el.textContent = val; };
      set('user-username', 'User'); set('user-wallet', '0.00 USD');
      set('user-vip', 'VIP1');     set('user-invitation-code', 'N/A');
      set('user-commission', '0.00 USD'); set('user-reward', '0.00 USD');
    }

    function logout() {
      if (confirm('Are you sure you want to logout?')) {
        fetch('/api/logout', { method: 'POST', headers: { 'Content-Type': 'application/json' } })
          .then(r => r.json())
          .then(data => { if (data.success) window.location.href = '/?auth=login&message=' + encodeURIComponent('Logged out successfully'); })
          .catch(err => { console.error('Logout error:', err); alert('Logout failed. Please try again.'); });
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      initProfileModal();
      fetchUserData();
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>